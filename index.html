<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>SpinPlayEnjoy ‚Äî Spinner</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css">
</head>
<body class="page-bg">
  <header class="header">
    <div class="header-left">
      <h1>SpinPlayEnjoy</h1>
      <p class="small">Welcome, <span id="userName">Player</span></p>
    </div>
    <div class="header-right">
      <button id="logoutBtn" class="btn small">Logout</button>
    </div>
  </header>

  <main class="centered-container">
    <div class="card spinner-card">
      <div class="spinner-wrap">
        <div id="wheel" class="wheel" aria-hidden="true"></div>
        <div class="spinner-pointer">‚ñ≤</div>
      </div>

      <div class="controls">
        <button id="spinBtn" class="btn big">SPIN</button>
        <p class="note">Click <strong>SPIN</strong>. Wheel will shuffle icons and stop on a game. Then instruction popup appears ‚Äî click <strong>Start</strong> to play.</p>
      </div>
    </div>
  </main>

  <!-- Instruction Popup -->
  <div id="instructionsModal" class="modal" aria-hidden="true">
    <div class="modal-content animated-pop">
      <h2 id="instTitle">Instructions</h2>
      <div id="instBody" class="inst-body"></div>
      <div class="modal-actions">
        <button id="instCancel" class="btn">Cancel</button>
        <button id="instStart" class="btn primary">Start</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
  <script>
    // check login
    if(!sessionStorage.getItem('sp_user')) location.href = 'login.html';
    document.getElementById('userName').textContent = sessionStorage.getItem('sp_user') || 'Player';
    document.getElementById('logoutBtn').addEventListener('click', ()=>{
      sessionStorage.removeItem('sp_user');
      location.href = 'login.html';
    });

    // game listing
    const GAMES = [
      { id: 'color', label: 'üé®', name: 'Color Match', file: 'color.html', inst: 'Type the <strong>color name</strong> shown by the box background (not the text). 60 seconds.' },
      { id: 'guess', label: 'üî¢', name: 'Guess Game', file: 'guess.html', inst: 'Guess the number (0‚Äì100). Hints will be shown. 60 seconds.' },
      { id: 'memory', label: 'üß†', name: 'Memory Game', file: 'memory.html', inst: 'Match 10 color pairs. 60 seconds.' },
      { id: 'math', label: '‚ûó', name: 'Math Game', file: 'math.html', inst: 'Solve simple arithmetic (0‚Äì10). 60 seconds.' },
      { id: 'typing', label: '‚å®Ô∏è', name: 'Speed Typing', file: 'speed.html', inst: 'Type the shown words quickly and accurately. 60 seconds.' }
    ];

    // initialize wheel (function defined in script.js)
    initWheel(GAMES);
  </script>
</body>
</html>
